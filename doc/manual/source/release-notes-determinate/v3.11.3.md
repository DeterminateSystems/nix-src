# Release 3.11.3 (2025-10-09)

* Based on [upstream Nix 2.31.2](../release-notes/rl-2.31.md).

## What's Changed

### Fix some bugs and interactions with parallel eval

We received some reports of parallel eval having issues, such as not being able to be interrupted, infinite recursion hanging forever, and segfaults when using the experimental `builtins.parallel`.

Those have now been fixed.

Additionally, the debugger now disables parallel eval, because the two features are incompatible.

PRs: [DeterminateSystems/nix-src#206](https://github.com/DeterminateSystems/nix-src/pull/206), [DeterminateSystems/nix-src#213](https://github.com/DeterminateSystems/nix-src/pull/213), [DeterminateSystems/nix-src#218](https://github.com/DeterminateSystems/nix-src/pull/218), [DeterminateSystems/nix-src#205](https://github.com/DeterminateSystems/nix-src/pull/205)

### `NIX_SSHOPTS` + `ssh-ng://root@localhost` fix

We noticed that specifying `NIX_SSHOPTS=-p2222` when using a command that uses SSH (such as `nix copy --to ssh-ng://root@localhost`) stopped respecting the `NIX_SSHOPTS` setting because of an incorrect comparison.

This has been fixed, so `NIX_SSHOPTS` and SSH stores that are accessed like `user@localhost` work again.

PR: [DeterminateSystems/nix-src#219](https://github.com/DeterminateSystems/nix-src/pull/219)

### Fix `error: [json.exception.type_error.302] type must be string, but is array` when using `exportReferencesGraph`

We received a report of a `nix build` failing on a specific flake due to its expression using `exportReferencesGraph` with a heterogeneous array of dependencies, causing this inscrutable error.

This specific case has been broken since Nix 2.29.0, and is now fixed.

PRs: [DeterminateSystems/nix-src#221](https://github.com/DeterminateSystems/nix-src/pull/221), [DeterminateSystems/nix-src#225](https://github.com/DeterminateSystems/nix-src/pull/225)


**Full Changelog**: [v3.11.2...v3.11.3](https://github.com/DeterminateSystems/nix-src/compare/v3.11.2...v3.11.3)
